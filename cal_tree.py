# coding=utf-8

import math

tree_list = [[0, -1, 3], [1, 0, 4], [2, 0, 3], [3, 0, 5], [4, 1, 0], [5, 1, 0], [6, 1, 0], [7, 1, 0], [8, 2, 2],\
             [9, 2, 2], [10, 2, 2], [11, 3, 0], [12, 3, 0], [13, 3, 0], [14, 3, 3], [15, 3, 0], [16, 8, 0], [17, 8, 0],\
             [18, 9, 3], [19, 9, 2], [20, 10, 5], [21, 10, 5], [22, 14, 0], [23, 14, 0], [24, 14, 0], [25, 18, 0],\
             [26, 18, 0], [27, 18, 0], [28, 19, 0], [29, 19, 3], [30, 20, 3], [31, 20, 3], [32, 20, 3], [33, 20, 3],\
             [34, 20, 4], [35, 21, 0], [36, 21, 0], [37, 21, 0], [38, 28, 0], [39, 28, 0], [40, 28, 0], [41, 29, 0],\
             [42, 29, 0], [43, 29, 0], [44, 30, 0], [45, 30, 0], [46, 30, 0], [47, 31, 0], [48, 31, 0],\
             [49, 31, 0], [50, 32, 0], [51, 32, 0], [52, 32, 0], [53, 33, 3], [54, 33, 3], [55, 33, 3],\
             [56, 34, 3], [57, 34, 3], [58, 34, 3], [59, 34, 3], [60, 53, 0], [61, 53, 0], [62, 53, 0],\
             [63, 54, 0], [64, 54, 0], [65, 54, 0], [66, 55, 0], [67, 55, 0], [68, 55, 0], [69, 56, 0],\
             [70, 56, 0], [71, 55, 0], [72, 57, 0], [73, 57, 0], [74, 57, 0], [75, 58, 0], [76, 58, 0],\
             [77, 58, 0], [78, 59, 0], [79, 59, 0], [80, 59, 0]]


A = 1
B = 0.155

length = len(tree_list)
index = 0
while index < length - 2:
    if tree_list[index][1] < 0:
        tree_list[index].append(0)     #根节点无反应时间
        index += 1
    elif index == length - 2:
        break                        #倒数第二个节点结束
    else:
        i = 1
        while index+i < length and tree_list[index][1] == tree_list[index + i][1]:
            i += 1
        t = A + B * math.log(i, 2)
        T = t + tree_list[tree_list[index][1]][3]
        j = 0
        while j < i:
            tree_list[index].append(T)
            index += 1
            j += 1
print(tree_list)













